<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-10196481-8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-10196481-8",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="GraphQLite" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script><title data-react-helmet="true">Input types | GraphQLite</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://graphqlite.thecodingmachine.io/img/graphqlite.svg"><meta data-react-helmet="true" name="twitter:image" content="https://graphqlite.thecodingmachine.io/img/graphqlite.svg"><meta data-react-helmet="true" property="og:url" content="https://graphqlite.thecodingmachine.io/docs/4.1/input-types"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="4.1"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-4.1"><meta data-react-helmet="true" property="og:title" content="Input types | GraphQLite"><meta data-react-helmet="true" name="description" content="Let&#x27;s admit you are developing an API that returns a list of cities around a location."><meta data-react-helmet="true" property="og:description" content="Let&#x27;s admit you are developing an API that returns a list of cities around a location."><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://graphqlite.thecodingmachine.io/docs/4.1/input-types"><link data-react-helmet="true" rel="alternate" href="https://graphqlite.thecodingmachine.io/docs/4.1/input-types" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://graphqlite.thecodingmachine.io/docs/4.1/input-types" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.28218bec.css">
<link rel="preload" href="/assets/js/runtime~main.2cfb6c44.js" as="script">
<link rel="preload" href="/assets/js/main.65440870.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/graphqlite.svg" alt="GraphQLite" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/graphqlite.svg" alt="GraphQLite" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">GraphQLite</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/thecodingmachine/graphqlite" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/4.1">4.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/input-types">Next</a></li><li><a class="dropdown__link" href="/docs/input-types">4.3</a></li><li><a class="dropdown__link" href="/docs/4.2/input-types">4.2</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/docs/4.1/input-types">4.1</a></li><li><a class="dropdown__link" href="/docs/4.0/input-types">4.0</a></li><li><a class="dropdown__link" href="/docs/3.0/input-types">3.0</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Usage</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/type_mapping">Type mapping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/autowiring">Autowiring services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/extend_type">Extending a type</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/external_type_declaration">External type declaration</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/4.1/input-types">Input types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/inheritance-interfaces">Inheritance and interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/error-handling">Error handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/validation">User input validation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Performance</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Advanced</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for GraphQLite <b>4.1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/input-types">latest version</a></b> (4.3).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 4.1</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Input types</h1></header><p>Let&#x27;s admit you are developing an API that returns a list of cities around a location.</p><p>Your GraphQL query might look like this:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">PHP 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">PHP 7</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">class MyController</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @return City[]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    #[Query]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getCities(Location $location, float $radius): array</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        // Some code that returns an array of cities.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">// Class Location is a simple value-object.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">class Location</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    private $latitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    private $longitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function __construct(float $latitude, float $longitude)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        $this-&gt;latitude = $latitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        $this-&gt;longitude = $longitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getLatitude(): float</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return $this-&gt;latitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getLongitude(): float</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return $this-&gt;longitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">class MyController</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @Query</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @return City[]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getCities(Location $location, float $radius): array</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        // Some code that returns an array of cities.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">// Class Location is a simple value-object.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">class Location</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    private $latitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    private $longitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function __construct(float $latitude, float $longitude)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        $this-&gt;latitude = $latitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        $this-&gt;longitude = $longitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getLatitude(): float</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return $this-&gt;latitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getLongitude(): float</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return $this-&gt;longitude;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>If you try to run this code, you will get the following error:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">CannotMapTypeException: cannot map class &quot;Location&quot; to a known GraphQL input type. Check your TypeMapper configuration.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You are running into this error because GraphQLite does not know how to handle the <code>Location</code> object.</p><p>In GraphQL, an object passed in parameter of a query or mutation (or any field) is called an <strong>Input Type</strong>.</p><p>In order to declare that type, in GraphQLite, we will declare a <strong>Factory</strong>.</p><p>A <strong>Factory</strong> is a method that takes in parameter all the fields of the input type and return an object.</p><p>Here is an example of factory:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">PHP 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">PHP 7</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">class MyFactory</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * The Factory annotation will create automatically a LocationInput input type in GraphQL.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    #[Factory]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function createLocation(float $latitude, float $longitude): Location</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return new Location($latitude, $longitude);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">class MyFactory</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * The Factory annotation will create automatically a LocationInput input type in GraphQL.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     *</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @Factory()</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function createLocation(float $latitude, float $longitude): Location</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return new Location($latitude, $longitude);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>and now, you can run query like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">mutation {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">  getCities(location: {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">              latitude: 45.0,</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">              longitude: 0.0,</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">            },</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">            radius: 42)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">  {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    id,</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    name</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">  }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>Factories must be declared with the <strong>@Factory</strong> annotation.</li><li>The parameters of the factories are the field of the GraphQL input type</li></ul><p>A few important things to notice:</p><ul><li>The container MUST contain the factory class. The identifier of the factory MUST be the fully qualified class name of the class that contains the factory.
This is usually already the case if you are using a container with auto-wiring capabilities</li><li>We recommend that you put the factories in the same directories as the types.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="specifying-the-input-type-name"></a>Specifying the input type name<a class="hash-link" href="#specifying-the-input-type-name" title="Direct link to heading">#</a></h3><p>The GraphQL input type name is derived from the return type of the factory.</p><p>Given the factory below, the return type is &quot;Location&quot;, therefore, the GraphQL input type will be named &quot;LocationInput&quot;.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">PHP 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">PHP 7</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">/**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * @Factory()</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">public function createLocation(float $latitude, float $longitude): Location</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    return new Location($latitude, $longitude);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">#[Factory]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">public function createLocation(float $latitude, float $longitude): Location</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    return new Location($latitude, $longitude);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>In case you want to override the input type name, you can use the &quot;name&quot; attribute of the @Factory annotation:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">/**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * @Factory(name=&quot;MyNewInputName&quot;, default=true)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> */</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note that you need to add the &quot;default&quot; attribute is you want your factory to be used by default (more on this in
the next chapter).</p><p>Unless you want to have several factories for the same PHP class, the input type name will be completely transparent
to you, so there is no real reason to customize it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="forcing-an-input-type"></a>Forcing an input type<a class="hash-link" href="#forcing-an-input-type" title="Direct link to heading">#</a></h3><p>You can use the <code>@UseInputType</code> annotation to force an input type of a parameter.</p><p>Let&#x27;s say you want to force a parameter to be of type &quot;ID&quot;, you can use this:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">PHP 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">PHP 7</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">#[Factory]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">#[UseInputType(for: &quot;$id&quot;, inputType:&quot;ID!&quot;)]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">public function getProductById(string $id): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    return $this-&gt;productRepository-&gt;findById($id);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">/**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * @Factory()</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * @UseInputType(for=&quot;$id&quot;, inputType=&quot;ID!&quot;)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">public function getProductById(string $id): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    return $this-&gt;productRepository-&gt;findById($id);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="declaring-several-input-types-for-the-same-php-class"></a>Declaring several input types for the same PHP class<a class="hash-link" href="#declaring-several-input-types-for-the-same-php-class" title="Direct link to heading">#</a></h3><small>Available in GraphQLite 4.0+</small><p>There are situations where a given PHP class might use one factory or another depending on the context.</p><p>This is often the case when your objects map database entities.
In these cases, you can use combine the use of <code>@UseInputType</code> and <code>@Factory</code> annotation to achieve your goal.</p><p>Here is an annotated sample:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">PHP 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">PHP 7</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">/**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * This class contains 2 factories to create Product objects.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * The &quot;getProduct&quot; method is used by default to map &quot;Product&quot; classes.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * The &quot;createProduct&quot; method will generate another input type named &quot;CreateProductInput&quot;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">class ProductFactory</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    // ...</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * This factory will be used by default to map &quot;Product&quot; classes.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    #[Factory(name: &quot;ProductRefInput&quot;, default: true)]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getProduct(string $id): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return $this-&gt;productRepository-&gt;findById($id);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * We specify a name for this input type explicitly.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    #[Factory(name: &quot;CreateProductInput&quot;, default: false)]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function createProduct(string $name, string $type): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return new Product($name, $type);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">class ProductController</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * The &quot;createProduct&quot; factory will be used for this mutation.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    #[Mutation]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    #[UseInputType(for: &quot;$product&quot;, inputType: &quot;CreateProductInput!&quot;)]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function saveProduct(Product $product): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        // ...</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * The default &quot;getProduct&quot; factory will be used for this query.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     *</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @return Color[]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    #[Query]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function availableColors(Product $product): array</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        // ...</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">/**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * This class contains 2 factories to create Product objects.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * The &quot;getProduct&quot; method is used by default to map &quot;Product&quot; classes.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * The &quot;createProduct&quot; method will generate another input type named &quot;CreateProductInput&quot;</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">class ProductFactory</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    // ...</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * This factory will be used by default to map &quot;Product&quot; classes.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @Factory(name=&quot;ProductRefInput&quot;, default=true)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function getProduct(string $id): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return $this-&gt;productRepository-&gt;findById($id);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * We specify a name for this input type explicitly.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @Factory(name=&quot;CreateProductInput&quot;, default=false)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function createProduct(string $name, string $type): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        return new Product($name, $type);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">class ProductController</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * The &quot;createProduct&quot; factory will be used for this mutation.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     *</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @Mutation</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @UseInputType(for=&quot;$product&quot;, inputType=&quot;CreateProductInput!&quot;)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function saveProduct(Product $product): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        // ...</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    /**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * The default &quot;getProduct&quot; factory will be used for this query.</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     *</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @Query</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     * @return Color[]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">     */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    public function availableColors(Product $product): array</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    {</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        // ...</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="ignoring-some-parameters"></a>Ignoring some parameters<a class="hash-link" href="#ignoring-some-parameters" title="Direct link to heading">#</a></h3><small>Available in GraphQLite 4.0+</small><p>GraphQLite will automatically map all your parameters to an input type.
But sometimes, you might want to avoid exposing some of those parameters.</p><p>Image your <code>getProductById</code> has an additional <code>lazyLoad</code> parameter. This parameter is interesting when you call
directly the function in PHP because you can have some level of optimisation on your code. But it is not something that
you want to expose in the GraphQL API. Let&#x27;s hide it!</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">PHP 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">PHP 7</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">#[Factory]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">public function getProductById(</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        string $id,</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        #[HideParameter]</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">        bool $lazyLoad = true</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    return $this-&gt;productRepository-&gt;findById($id, $lazyLoad);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><pre tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#ffffff"><span class="token plain">/**</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * @Factory()</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> * @HideParameter(for=&quot;$lazyLoad&quot;)</span></span><span class="token-line" style="color:#ffffff"><span class="token plain"> */</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">public function getProductById(string $id, bool $lazyLoad = true): Product</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">    return $this-&gt;productRepository-&gt;findById($id, $lazyLoad);</span></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>With the <code>@HideParameter</code> annotation, you can choose to remove from the GraphQL schema any argument.</p><p>To be able to hide an argument, the argument must have a default value.</p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/thecodingmachine/graphqlite/edit/master/website/versioned_docs/version-4.1/input_types.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_">Last updated on <b><time datetime="2021-08-31T09:23:59.000Z">8/31/2021</time></b> by <b>Jacob Thomason</b></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/4.1/external_type_declaration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« External type declaration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/4.1/inheritance-interfaces"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inheritance and interfaces Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#specifying-the-input-type-name" class="table-of-contents__link">Specifying the input type name</a></li><li><a href="#forcing-an-input-type" class="table-of-contents__link">Forcing an input type</a></li><li><a href="#declaring-several-input-types-for-the-same-php-class" class="table-of-contents__link">Declaring several input types for the same PHP class</a></li><li><a href="#ignoring-some-parameters" class="table-of-contents__link">Ignoring some parameters</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://github.com/thecodingmachine/graphqlite" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/graphqlite.svg" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/graphqlite.svg" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.2cfb6c44.js"></script>
<script src="/assets/js/main.65440870.js"></script>
</body>
</html>